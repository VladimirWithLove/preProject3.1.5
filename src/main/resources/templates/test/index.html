<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    td {
        padding: 10;
    }
</style>
<script type="text/javascript">

    function showUsers() {
        $.get('../api/users', function (data) {
            console.log(data);

            let table = "<table border='2'><tr><th>Id</th><th>Name</th><th>Age</th></tr>";

            for (i = 0; i < data.length; i++) {
                table = table + "<tr>" +
                    "<td>" + data[i].id + "</td>" +
                    "<td>" + data[i].name + "</td>" +
                    "<td>" + data[i].age + "</td>" +
                    "</tr>";
            }
            table = table + "</table>";

            $("#test_user").html(table);
        })
    }

    $(document).ready(function () {
        showUsers()
    })

    function send_user() {
        $.ajax({
            url: '../api/users',
            dataType: 'json',
            type: 'POST',
            cache: false,
            contentType: 'application/json',
            data: JSON.stringify({
                login: $("#login").val(),
                password: $("#password").val(),
                name: $('#name').val(),
                surname: $('#surname').val(),
                age: $('#age').val(),
                profession: $('#profession').val(),
            }),
            success: function () {
                showUsers()
            }
        })
    }

</script>
<body>

<div id="test_user"></div>

<form>
    <input type="text" id="login" placeholder="Login"><br/>
    <input type="text" id="password" placeholder="Password"><br/>
    <input type="text" id="name" placeholder="Name"><br/>
    <input type="text" id="surname" placeholder="Surname"><br/>
    <input type="text" id="age" placeholder="Age"><br/>
    <input type="text" id="profession" placeholder="Profession"><br/>
    <input type="button" onclick="send_user()" value="Save"/>
</form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>
</html>